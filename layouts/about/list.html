{{ define "title" }}{{ .Title }} - {{ .Site.Title }}{{ end }}
{{ define "description" }}{{ .Params.description }}{{ end }}

{{ define "main" }}

<div class="container mx-auto px-4 py-16">

  <!-- Carousel for Kasia versions -->
  <div class="mt-12">
    <style>
      .prose h2 { font-size: 1.875rem; font-weight: bold; margin-top: 2rem; margin-bottom: 1rem; }
      .prose ul { list-style-type: disc; margin-left: 2rem; margin-top: 1rem; margin-bottom: 1rem; }
      .prose li { margin-top: 0.5rem; margin-bottom: 0.5rem; }
      .prose p { margin-top: 1rem; margin-bottom: 1rem; line-height: 1.75; }
    </style>
    <div class="carousel w-full">
      {{ range where .Pages.ByWeight "Draft" false }}
        {{ partial "about_kasia.html" . }}
      {{ end }}
    </div>
    <!-- Indicator dots -->
    <div class="flex justify-center w-full py-2 gap-2">
      {{ range where .Pages.ByWeight "Draft" false }}
        <a href="#slide{{ .File.TranslationBaseName }}" class="btn btn-xs indicator-btn" data-slide="slide{{ .File.TranslationBaseName }}">{{ .File.TranslationBaseName }}</a>
      {{ end }}
    </div>
    <script>
      // Highlight active indicator based on current slide
      function updateActiveIndicator() {
        const hash = window.location.hash.substring(1) || 'slidekasia_5'; // Default to first slide
        document.querySelectorAll('.indicator-btn').forEach(btn => {
          if (btn.dataset.slide === hash) {
            btn.classList.add('btn-primary');
          } else {
            btn.classList.remove('btn-primary');
          }
        });
      }
      updateActiveIndicator();
      window.addEventListener('hashchange', updateActiveIndicator);
    </script>
  </div>


  <h1 class="text-4xl font-bold mb-8">{{ .Title }}</h1>
  <div class="prose max-w-none">
    {{ .Content }}
  </div>
</div>

{{ end }}
